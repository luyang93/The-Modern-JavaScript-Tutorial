<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
</head>
<body>
<script>
  function pow(x, n) {
    if (n == 1) {
      return x;
    } else {
      return x * pow(x, n - 1);
    }
  }

  console.log(pow(2, 10));

  function pow2(x, n) {
    return (n == 1) ? x : (x * pow2(x, n - 1));
  }

  console.log(pow2(2, 20));
</script>
<script>
  function pow3(x, n) {
    let result = 1;

    for (let i = 0; i < n; i++) {
      result *= x;
    }

    return result;
  }

  console.log(pow3(2, 10));
</script>
<script>
  let company = { // 是同一个对象，简洁起见被压缩了
    sales: [{name: 'John', salary: 1000}, {name: 'Alice', salary: 1600}],
    development: {
      sites: [{name: 'Peter', salary: 2000}, {name: 'Alex', salary: 1800}],
      internals: [{name: 'Jack', salary: 1300}],
    },
  };

  function sumSalaries(department) {
    if (Array.isArray(department)) {
      return department.reduce((prev, current) => prev + current.salary, 0);
    } else {
      let sum = 0;
      for (let subdep of Object.values(department)) {
        sum += sumSalaries(subdep);
      }
      return sum;
    }
  }

  console.log(sumSalaries(company));
</script>
<script>
  let list2 = {
    value: 1,
    next: {
      value: 2,
      next: {
        value: 3,
        next: {
          value: 4,
          next: null,
        },
      },
    },
  };

  console.log(list2);

  let list = {value: 1};
  list.next = {value: 2};
  list.next.next = {value: 3};
  list.next.next.next = {value: 4};
  list.next.next.next.next = null;

  console.log(list);

  let secondList = list.next.next;
  list.next.next = null;

  console.log(list);
  console.log(secondList);
</script>
<script>
  let list4 = {value: 1};
  list4.next = {value: 2};
  list4.next.next = {value: 3};
  list4.next.next.next = {value: 4};

  console.log(list4);
  // 将新值添加到链表头部
  list4 = {value: 'new item', next: list4};
  console.log(list4);

  list4.next = list4.next.next;
  console.log(list4);
</script>
<script>
  function sumTo1(n) {
    let sum = 0;
    for (let i = 1; i <= n; i++) {
      sum += i;
    }

    return sum;
  }

  function sumTo2(n) {
    if (n == 1) {
      return 1;
    } else {
      return n + sumTo2(n - 1);
    }
  }

  function sumTo3(n) {
    return n * (n + 1) / 2;
  }

  console.log(sumTo1(100), sumTo2(100), sumTo3(100));
</script>
<script>
  function factorial(n) {
    if (n == 1) {
      return 1;
    } else {
      return n * factorial(n - 1);
    }
  }

  console.log(factorial(5));
</script>
<script>
  function fib(n) {
    if (n <= 1) {
      return n;
    } else {
      return fib(n - 1) + fib(n - 2);
    }
  }

  console.log(fib(3));
  console.log(fib(7));

  function fib2(n) {
    let a = 1;
    let b = 1;
    for (let i = 3; i <= n; i++) {
      let c = a + b;
      a = b;
      b = c;
    }
    return b;
  }

  console.log(fib2(3)); // 2
  console.log(fib2(7)); // 13
  console.log(fib2(77)); // 5527939700884757
</script>
<script>
  let list5 = {
    value: 1,
    next: {
      value: 2,
      next: {
        value: 3,
        next: {
          value: 4,
          next: null,
        },
      },
    },
  };

  function printList(list) {
    let tmp = list;

    while (tmp) {
      console.log(tmp.value);
      tmp = tmp.next;
    }
  }

  printList((list5));

  function printList2(list) {
    console.log(list.value);

    if (list.next) {
      printList2(list.next);
    }
  }

  printList2(list5);
</script>
<script>
  let list6 = {
    value: 1,
    next: {
      value: 2,
      next: {
        value: 3,
        next: {
          value: 4,
          next: null,
        },
      },
    },
  };

  function printReverseList(list) {
    if (list.next) {
      printReverseList(list.next);
    }

    console.log(list.value);
  }

  printReverseList(list6);

  function printReverseList2(list) {
    let arr = [];
    let tmp = list;

    while (tmp) {
      arr.push(tmp.value);
      tmp = tmp.next;
    }

    for (let i = arr.length - 1; i >= 0; i--) {
      console.log(arr[i]);
    }
  }

  printReverseList2(list6);
</script>
</body>
</html>
