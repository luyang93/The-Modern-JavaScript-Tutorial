<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        [id^='bagua-table'] th {
            text-align: center;
            font-weight: bold;
        }

        [id^='bagua-table'] td {
            width: 150px;
            white-space: nowrap;
            text-align: center;
            vertical-align: bottom;
            padding-top: 5px;
            padding-bottom: 12px;
        }

        [id^='bagua-table'] .nw {
            background: #999;
        }

        [id^='bagua-table'] .n {
            background: #03f;
            color: #fff;
        }

        [id^='bagua-table'] .ne {
            background: #ff6;
        }

        [id^='bagua-table'] .ne {
            background: #ff6;
        }

        [id^='bagua-table'] .w {
            background: #ff0;
        }

        [id^='bagua-table'] .c {
            background: #60c;
            color: #fff;
        }

        [id^='bagua-table'] .e {
            background: #09f;
            color: #fff;
        }

        [id^='bagua-table'] .sw {
            background: #963;
            color: #fff;
        }

        [id^='bagua-table'] .s {
            background: #f60;
            color: #fff;
        }

        [id^='bagua-table'] .se {
            background: #0c3;
            color: #fff;
        }

        [id^='bagua-table'] .highlight {
            background: red;
        }
    </style>
    <style>
        body {
            margin: 10px auto;
            width: 470px;
        }

        h3 {
            margin: 0;
            padding-bottom: .3em;
            padding-right: 20px;
            font-size: 1.1em;
        }

        p {
            margin: 0;
            padding: 0 0 .5em;
        }

        .pane {
            background: #edf5e1;
            padding: 10px 20px 10px;
            border-top: solid 2px #c4df9b;
            position: relative;
        }

        .remove-button {
            position: absolute;
            font-size: 110%;
            top: 0;
            color: darkred;
            right: 10px;
            display: block;
            width: 24px;
            height: 24px;
            border: none;
            background: transparent;
            cursor: pointer;
        }
    </style>
    <style>
        .tree span:hover {
            font-weight: bold;
        }

        .tree span {
            cursor: pointer;
        }
    </style>
    <style>
        table {
            border-collapse: collapse;
        }

        th, td {
            border: 1px solid black;
            padding: 4px;
        }

        th {
            cursor: pointer;
        }

        th:hover {
            background: yellow;
        }
    </style>
    <style>
        body {
            height: 5000px;
            /* make body scrollable, the tooltip should work after the scroll */
        }

        .tooltip {
            /* some styles for the tooltip, you can use your own instead */
            position: fixed;
            padding: 10px 20px;
            border: 1px solid #b3c9ce;
            border-radius: 4px;
            text-align: center;
            font: italic 14px/1.3 sans-serif;
            color: #333;
            background: #fff;
            box-shadow: 3px 3px 3px rgba(0, 0, 0, .3);
        }
    </style>
</head>
<body>
<div>
    <table id="bagua-table">
        <tr>
            <th colspan="3"><em>Bagua</em> Chart: Direction, Element, Color, Meaning</th>
        </tr>
        <tr>
            <td class="nw"><strong>Northwest</strong>
                <br>Metal
                <br>Silver
                <br>Elders
            </td>
            <td class="n"><strong>North</strong>
                <br>Water
                <br>Blue
                <br>Change
            </td>
            <td class="ne"><strong>Northeast</strong>
                <br>Earth
                <br>Yellow
                <br>Direction
            </td>
        </tr>
        <tr>
            <td class="w"><strong>West</strong>
                <br>Metal
                <br>Gold
                <br>Youth
            </td>
            <td class="c"><strong>Center</strong>
                <br>All
                <br>Purple
                <br>Harmony
            </td>
            <td class="e"><strong>East</strong>
                <br>Wood
                <br>Blue
                <br>Future
            </td>
        </tr>
        <tr>
            <td class="sw"><strong>Southwest</strong>
                <br>Earth
                <br>Brown
                <br>Tranquility
            </td>
            <td class="s"><strong>South</strong>
                <br>Fire
                <br>Orange
                <br>Fame
            </td>
            <td class="se"><strong>Southeast</strong>
                <br>Wood
                <br>Green
                <br>Romance
            </td>
        </tr>
    </table>
</div>
<script>
  let selectedTd;

  elem = document.getElementById('bagua-table');

  elem.onclick = function(event) {
    let target = event.target; // 在哪里点击的？

    if (target.tagName != 'TD') return; // 不在 TD 上？那么我们就不会在意

    highlight(target); // 高亮显示它
  };

  function highlight(td) {
    if (selectedTd) { // 移除现有的高亮显示，如果有的话
      selectedTd.classList.remove('highlight');
    }
    selectedTd = td;
    selectedTd.classList.add('highlight'); // 高亮显示新的 td
  }
</script>
<div>
    <table id="bagua-table2">
        <tr>
            <th colspan="3"><em>Bagua</em> Chart: Direction, Element, Color, Meaning</th>
        </tr>
        <tr>
            <td class="nw"><strong>Northwest</strong>
                <br>Metal
                <br>Silver
                <br>Elders
            </td>
            <td class="n"><strong>North</strong>
                <br>Water
                <br>Blue
                <br>Change
            </td>
            <td class="ne"><strong>Northeast</strong>
                <br>Earth
                <br>Yellow
                <br>Direction
            </td>
        </tr>
        <tr>
            <td class="w"><strong>West</strong>
                <br>Metal
                <br>Gold
                <br>Youth
            </td>
            <td class="c"><strong>Center</strong>
                <br>All
                <br>Purple
                <br>Harmony
            </td>
            <td class="e"><strong>East</strong>
                <br>Wood
                <br>Blue
                <br>Future
            </td>
        </tr>
        <tr>
            <td class="sw"><strong>Southwest</strong>
                <br>Earth
                <br>Brown
                <br>Tranquility
            </td>
            <td class="s"><strong>South</strong>
                <br>Fire
                <br>Orange
                <br>Fame
            </td>
            <td class="se"><strong>Southeast</strong>
                <br>Wood
                <br>Green
                <br>Romance
            </td>
        </tr>
    </table>
</div>
<script>
  let selectedTd2;

  elem = document.getElementById('bagua-table2');

  elem.onclick = function(event) {
    let td = event.target.closest('td'); // (1)

    if (!td) return; // (2)

    if (!elem.contains(td)) return; // (3)

    highlight(td); // (4)
  };

  function highlight(td) {
    if (selectedTd2) { // 移除现有的高亮显示，如果有的话
      selectedTd2.classList.remove('highlight');
    }
    selectedTd2 = td;
    selectedTd2.classList.add('highlight'); // 高亮显示新的 td
  }
</script>
<div id="menu">
    <button data-action="save">Save</button>
    <button data-action="load">Load</button>
    <button data-action="search">Search</button>
</div>
<script>
  class Menu {
    constructor(elem) {
      this._elem = elem;
      elem.onclick = this.onClick.bind(this);
    }

    save() {
      console.log('saving');
    }

    load() {
      console.log('loading');
    }

    search() {
      console.log('searching');
    }

    onClick(event) {
      let action = event.target.dataset.action;
      if (action) {
        this[action]();
      }
    }
  }

  new Menu(menu);
</script>
<div>
    Counter: <input type="button" value="1" data-counter>
    One more counter: <input type="button" value="2" data-counter>
</div>
<script>
  document.addEventListener('click', function(event) {
    if (event.target.dataset.counter != undefined) { // 如果这个特性存在...
      event.target.value++;
    }
  });
</script>
<div>
    <button data-toggle-id="subscribe-mail">
        Show the subscription form
    </button>

    <form id="subscribe-mail" hidden>
        Your mail: <input type="email">
    </form>
</div>
<script>
  document.addEventListener('click', function(event) {
    let id = event.target.dataset.toggleId;
    if (!id) return;

    let elem = document.getElementById(id);

    elem.hidden = !elem.hidden;
  });
</script>
<div id="container">
    <div class="pane">
        <h3>Horse</h3>
        <p>The horse is one of two extant subspecies of Equus ferus. It is an odd-toed ungulate mammal belonging to the
            taxonomic family Equidae. The horse has evolved over the past 45 to 55 million years from a small multi-toed
            creature, Eohippus, into the large, single-toed animal of today.</p>
        <button class="remove-button">[x]</button>
    </div>
    <div class="pane">
        <h3>Donkey</h3>
        <p>The donkey or ass (Equus africanus asinus) is a domesticated member of the horse family, Equidae. The wild
            ancestor of the donkey is the African wild ass, E. africanus. The donkey has been used as a working animal
            for at least 5000 years.</p>
        <button class="remove-button">[x]</button>
    </div>
    <div class="pane">
        <h3>Cat</h3>
        <p>The domestic cat (Latin: Felis catus) is a small, typically furry, carnivorous mammal. They are often called
            house cats when kept as indoor pets or simply cats when there is no need to distinguish them from other
            felids and felines. Cats are often valued by humans for companionship and for their ability to hunt vermin.
        </p>
        <button class="remove-button">[x]</button>
    </div>
</div>
<script>
  container.onclick = function(event) {
    if (event.target.className != 'remove-button') return;

    let pane = event.target.closest('.pane');
    pane.remove();
  };
</script>
<div>
    <ul class="tree" id="tree">
        <li>Animals
            <ul>
                <li>Mammals
                    <ul>
                        <li>Cows</li>
                        <li>Donkeys</li>
                        <li>Dogs</li>
                        <li>Tigers</li>
                    </ul>
                </li>
                <li>Other
                    <ul>
                        <li>Snakes</li>
                        <li>Birds</li>
                        <li>Lizards</li>
                    </ul>
                </li>
            </ul>
        </li>
        <li>Fishes
            <ul>
                <li>Aquarium
                    <ul>
                        <li>Guppy</li>
                        <li>Angelfish</li>
                    </ul>
                </li>
                <li>Sea
                    <ul>
                        <li>Sea trout</li>
                    </ul>
                </li>
            </ul>
        </li>
    </ul>
</div>
<script>
  // move all text into <span>
  // they occupy exactly the place necessary for the text,
  for (let li of tree.querySelectorAll('li')) {
    let span = document.createElement('span');
    li.prepend(span);
    span.append(span.nextSibling); // move the text node into span
  }

  // catch clicks on whole tree
  tree.onclick = function(event) {
    if (event.target.tagName != 'SPAN') return;

    let childrenContainer = event.target.parentNode.querySelector('ul');
    if (!childrenContainer) return; // no children
    childrenContainer.hidden = !childrenContainer.hidden;
  };
</script>
<table id="grid">
    <thead>
    <tr>
        <th data-type="number">Age</th>
        <th data-type="string">Name</th>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td>5</td>
        <td>John</td>
    </tr>
    <tr>
        <td>2</td>
        <td>Pete</td>
    </tr>
    <tr>
        <td>12</td>
        <td>Ann</td>
    </tr>
    <tr>
        <td>9</td>
        <td>Eugene</td>
    </tr>
    <tr>
        <td>1</td>
        <td>Ilya</td>
    </tr>
    </tbody>
</table>
<script>
  grid.onclick = function(e) {
    if (e.target.tagName != 'TH') return;
    let th = e.target;
    // if TH, then sort
    // cellIndex is the number of th:
    //   0 for the first column
    //   1 for the second column, etc
    sortGrid(th.cellIndex, th.dataset.type);
  };

  function sortGrid(colNum, type) {
    let tbody = grid.querySelector('tbody');

    let rowsArray = Array.from(tbody.rows);

    // compare(a, b) compares two rows, need for sorting
    let compare;

    switch (type) {
      case 'number':
        compare = function(rowA, rowB) {
          return rowA.cells[colNum].innerHTML - rowB.cells[colNum].innerHTML;
        };
        break;

      case 'string':
        compare = function(rowA, rowB) {
          return rowA.cells[colNum].innerHTML > rowB.cells[colNum].innerHTML ? 1 : -1;
        };
        break;
    }

    // sort
    rowsArray.sort(compare);

    tbody.append(...rowsArray);
  }
</script>
<div>
    <p>LaLaLa LaLaLa LaLaLa LaLaLa LaLaLa LaLaLa LaLaLa LaLaLa LaLaLa</p>
    <p>LaLaLa LaLaLa LaLaLa LaLaLa LaLaLa LaLaLa LaLaLa LaLaLa LaLaLa</p>

    <button data-tooltip="the tooltip is longer than the element">Short button</button>
    <button data-tooltip="HTML<br>tooltip">One more button</button>

    <p>Scroll the page to make buttons appear on the top, check if the tooltips show up correctly.</p>
</div>
<script>
  let tooltipElem;

  document.onmouseover = function(event) {
    let target = event.target;

    // if we have tooltip HTML...
    let tooltipHtml = target.dataset.tooltip;
    if (!tooltipHtml) return;

    // ...create the tooltip element
    tooltipElem = document.createElement('div');
    tooltipElem.className = 'tooltip';
    tooltipElem.innerHTML = tooltipHtml;
    document.body.append(tooltipElem);

    // position it above the annotated element (top-center)
    let coords = target.getBoundingClientRect();

    let left = coords.left + (target.offsetWidth - tooltipElem.offsetWidth) / 2;
    if (left < 0) left = 0; // don't cross the left window edge

    let top = coords.top - tooltipElem.offsetHeight - 5;
    if (top < 0) { // if crossing the top window edge, show below instead
      top = coords.top + target.offsetHeight + 5;
    }

    tooltipElem.style.left = left + 'px';
    tooltipElem.style.top = top + 'px';
  };

  document.onmouseout = function(e) {
    if (tooltipElem) {
      tooltipElem.remove();
      tooltipElem = null;
    }
  };
</script>
</body>
</html>